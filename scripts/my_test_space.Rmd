---
title: "my_test_space"
author: "Cristina Guzman-Moumtzis"
date: "2023-07-23"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Set Up
This script is used as a test space to follow along the tutorials posted on MetaboAnalyst's website. 
The commands and data are all sourced from "2.1.2 Download IBD Example QC Data" on the tutorial tab

```{r folder set up, echo=FALSE}
## Setting the data depositing folder
data_folder_Sample <- "~/Data_IBD"
data_folder_QC <- "~/QC_IBD"  
```

## Downloading Sample Data
Access the sample data provided from this tutorial from Google Drive
Data is saved as a zipped folder locally

```{r data import}
# Use Google API for data downloading here. 
# Please "install.packages('googledrive')" and "install.packages('httpuv')"first.
library(googledrive);
temp <- tempfile(fileext = ".zip")
# Please authorize your google account to access the data
dl <- drive_download(
  as_id("10DBpPEWy2cZyXvmlLOIfpwqQYwFplKYK"), path = temp, overwrite = TRUE)
# Setting your own date file folder
out <- unzip(temp, exdir = data_folder_QC)
# Date files for parameters optimization are deposited below
out
```

## Unzip and save data
Previously loaded data is unzipped and saved locally

```{r data file}
temp <- tempfile(fileext = ".zip")
dl <- drive_download(
  as_id("1-wlFUkzEwWX1afRWLJlY_KEJs7BfsZim"), path = temp, overwrite = TRUE)
# Setting the date file folder
out <- unzip(temp, exdir = data_folder_Sample)
# Date files for normal processing example are deposited below
out
```
## Data Inspection
Look for significant contaminants using 3D graph plotting rentention time
and M/Z. Chunk should provide the RT range and MZ range in console.

``` {r data inspection}
# Inspect the MS data via a 3D image. "res" are used to specify the resolution for the MS data.
PerformDataInspect(data_folder_QC,res = 50)

```



